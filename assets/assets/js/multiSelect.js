'use strict'; var _createClass = function () { function a(a, b) { for (var c, d = 0; d < b.length; d++)c = b[d], c.enumerable = c.enumerable || !1, c.configurable = !0, "value" in c && (c.writable = !0), Object.defineProperty(a, c.key, c) } return function (b, c, d) { return c && a(b.prototype, c), d && a(b, d), b } }(); function _toConsumableArray(a) { if (Array.isArray(a)) { for (var b = 0, c = Array(a.length); b < a.length; b++)c[b] = a[b]; return c } return Array.from(a) } function _classCallCheck(a, b) { if (!(a instanceof b)) throw new TypeError("Cannot call a class as a function") } var MultiSelect = function () { function a(b) { var c = b.pleaseSelectOptionValue, d = void 0 === c ? "" : c; _classCallCheck(this, a), this.multiSelectContainer = document.querySelector("[multiSelect]"), this.pleaseSelectOptionValue = d, this.allInputs = [].concat(_toConsumableArray(this.multiSelectContainer.querySelectorAll("input"))), this.allSelects = [].concat(_toConsumableArray(this.multiSelectContainer.querySelectorAll("select"))), this.allTextArea = [].concat(_toConsumableArray(this.multiSelectContainer.querySelectorAll("textarea"))), this.addSelectListeners(this.allSelects) } return _createClass(a, [{ key: "addSelectListeners", value: function (a) { var b = this; a.map(function (a) { return a.addEventListener("change", function (a) { return b.showHideIt(a, b) }) }) } }, { key: "showHideIt", value: function (a, b) { var c = b, d = c.multiSelectContainer, e = c.pleaseSelectOptionValue, f = a.target, g = f.value; if (g !== e && f.parentElement.getAttribute("visibleId") && f.querySelector("option[value=" + g + "]").getAttribute("makeVisible")) { var h = f.querySelector("option[value=" + g + "]").getAttribute("makeVisible"), i = f.parentElement.getAttribute("visibleId"), j = d.querySelector("[parent=" + i + "]");[].concat(_toConsumableArray(j.children)).map(function (a) { return a.style.display = "none" }), j.style.display = "block", j.querySelector("div[visibleId=" + h + "]").style.display = "flex" } else try { var k = f.parentElement.getAttribute("visibleId"); document.querySelector("[parent=" + k + "]").style.display = "none" } catch (a) { console.warn("warning: an \"error\" ocurred because the <select> is a simple normal <select> \ndon't worry, this is a warning \nThe VALUE is " + g + "\nThe ERROR is: " + a + "\n") } } }, { key: "getJson", value: function () { var a = !(0 < arguments.length && void 0 !== arguments[0]) || arguments[0], b = {}, c = this.getVisibleItems, d = this.iterateValues, e = this.allSelects, f = this.allInputs, g = this.allTextArea, h = void 0; return 0 < e.length && (h = c(e), d(b, h)), a && (0 < f.length && (h = c(f), d(b, h)), 0 < g.length && (h = c(g), d(b, h))), b } }, { key: "getVisibleItems", value: function (a) { var b = [], c = !0, d = !1, e = void 0; try { for (var f, g, h = a[Symbol.iterator](); !(c = (f = h.next()).done); c = !0)g = f.value, 0 < g.getBoundingClientRect().height && b.push(g) } catch (a) { d = !0, e = a } finally { try { !c && h.return && h.return() } finally { if (d) throw e } } return b } }, { key: "iterateValues", value: function (a, b) { var c = !0, d = !1, e = void 0; try { for (var f, g = b[Symbol.iterator](); !(c = (f = g.next()).done); c = !0) { var h = f.value, i = h.name, j = h.value; a[i] = j } } catch (a) { d = !0, e = a } finally { try { !c && g.return && g.return() } finally { if (d) throw e } } } }, { key: "simpleValidate", value: function () { var a = !0, b = [], c = this.getVisibleItems(this.allSelects), d = !0, e = !1, f = void 0; try { for (var g, h, i = c[Symbol.iterator](); !(d = (g = i.next()).done); d = !0)h = g.value, h.value === this.pleaseSelectOptionValue && b.push(h) } catch (a) { e = !0, f = a } finally { try { !d && i.return && i.return() } finally { if (e) throw f } } return 0 < b.length && (console.warn("one or more <select> tag has a not valid value", "there are: \n"), b.forEach(function (a, b) { console.log("===== " + b + " ====="), console.warn("the select element: ", a, " has not a valid value: ", a.value) }), a = !1), a } }]), a }(); "undefined" == typeof module ? null : "undefined" == typeof module.exports ? null : module.exports = MultiSelect;